(function(t){function e(e){for(var a,i,o=e[0],l=e[1],u=e[2],m=0,d=[];m<o.length;m++)i=o[m],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&d.push(n[i][0]),n[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);c&&c(e);while(d.length)d.shift()();return r.push.apply(r,u||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],a=!0,o=1;o<s.length;o++){var l=s[o];0!==n[l]&&(a=!1)}a&&(r.splice(e--,1),t=i(i.s=s[0]))}return t}var a={},n={app:0},r=[];function i(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=a,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(s,a,function(e){return t[e]}.bind(null,a));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var c=l;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},4360:function(t,e,s){"use strict";s.r(e);s("4de4"),s("7db0"),s("4160"),s("c975"),s("13d5"),s("b0c0"),s("4fad"),s("159b");var a=s("3835"),n=s("2b0e"),r=s("2f62"),i=s("0e44");n["a"].use(r["a"]),e["default"]=new r["a"].Store({plugins:[Object(i["a"])()],state:{globalStatus:{gameInit:!1,playersSetupCompleted:!1,gamesSetupCompleted:!1,gameOver:!1},players:[],games:[],currentGameId:null,currentPlayerId:null,rotatingPlayerId:null,results:[]},mutations:{reset:function(t){t.globalStatus.gameInit=!1,t.globalStatus.playersSetupCompleted=!1,t.globalStatus.gamesSetupCompleted=!1,t.globalStatus.gameOver=!1,t.players=[],t.games=[],t.currentGameId=null,t.currentPlayerId=null,t.rotatingPlayerId=null,t.results=[]},game_init:function(t){t.globalStatus.gameInit=!0},game_over:function(t){t.globalStatus.gameOver=!0},set_player:function(t,e){t.players.push(e)},players_setup_complete:function(t){t.globalStatus.playersSetupCompleted=!0},set_game:function(t,e){t.games.push(e)},games_setup_complete:function(t){t.globalStatus.gamesSetupCompleted=!0},set_current_game:function(t,e){t.currentGameId=t.games.find((function(t){return t.id==e})).id},set_current_player:function(t,e){t.currentPlayerId=t.players.find((function(t){return t.id==e})).id},set_rotating_player:function(t,e){t.rotatingPlayerId=e},set_timer_for_player:function(t,e){var s=t.players.find((function(t){return t.id==e.playerId}));s.timeLeft=e.time},set_player_score:function(t,e){var s=t.players.find((function(t){return t.id==e.playerId})),a=parseInt(e.score);s.score=s.score+a,a<=0&&(s.gamesWon=s.gamesWon+1)},save_result:function(t,e){t.results.push(e)}},actions:{set_players:function(t,e){var s=t.commit;e.forEach((function(t){s("set_player",t)}))},set_games:function(t,e){var s=t.commit;e.forEach((function(t){s("set_game",t)}))},set_timers:function(t,e){var s=t.commit,a=t.state;a.players.forEach((function(t){s("set_timer_for_player",{playerId:t.id,time:null!=t.timeLeft&&t.timeLeft>=0?t.timeLeft:60*e})}))},clear_timers:function(t){var e=t.commit,s=t.state;s.players.forEach((function(t){e("set_timer_for_player",{playerId:t.id,time:null})}))},save_result:function(t,e){for(var s=t.commit,n=t.getters,r=n.gameById(e.gameId),i={game:r,scores:[]},o=0,l=Object.entries(e.scores);o<l.length;o++){var u=Object(a["a"])(l[o],2),c=u[0],m=u[1],d=n.playerById(c);i.scores.push({player:d.name,score:m}),s("set_player_score",{playerId:d.id,score:m})}s("save_result",i)}},getters:{gameById:function(t){return function(e){return t.games.find((function(t){return t.id==e}))}},playerById:function(t){return function(e){return t.players.find((function(t){return t.id==e}))}},nextPlayerAfter:function(t){return function(e){var s=t.players.filter((function(t){return t.timeLeft>0})),a=s.indexOf(t.players.find((function(t){return t.id==e})));return(-1==a||a>=s.length-1)&&(a=-1),s[a+1]}},playersLeftCount:function(t){return t.players.filter((function(t){return t.timeLeft>0})).length},winner:function(t){return t.players.filter((function(t){return t.timeLeft>0}))[0]},winnerOfTheGame:function(t){return t.players.reduce((function(t,e){return t.score<e.score?t:e}))}},modules:{}})},"56d7":function(t,e,s){"use strict";s.r(e);s("4de4"),s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bg-gray-800 text-gray-200",attrs:{id:"app"}},[s("div",{staticClass:"min-h-screen"},[s("router-view")],1),t.$store.state.globalStatus.gameInit?s("div",{staticClass:"text-center py-3"},[s("button",{staticClass:"btn btn-sm btn-red",on:{click:t.exit}},[t._v("Salir")])]):t._e()])},r=[],i={methods:{exit:function(){confirm("¿Salir?")&&(this.$store.commit("reset"),this.$router.push("/"))}}},o=i,l=s("2877"),u=Object(l["a"])(o,n,r,!1,null,null,null),c=u.exports,m=s("a18c"),d=s("4360"),p=s("ecee"),f=s("c074"),h=s("ad3d");s("5aea");p["c"].add(f["e"],f["f"],f["b"],f["g"],f["d"],f["a"],f["h"],f["i"],f["c"]),a["a"].component("font-awesome-icon",h["a"]),a["a"].config.productionTip=!1,a["a"].filter("formatTime",(function(t){return(t-(t%=60))/60+(9<t?":":":0")+t})),new a["a"]({router:m["default"],store:d["default"],render:function(t){return t(c)}}).$mount("#app")},"5aea":function(t,e,s){},a18c:function(t,e,s){"use strict";s.r(e);var a=s("2b0e"),n=s("8c4f"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text-center flex flex-col"},[s("h1",{staticClass:"text-6xl font-bold pt-10"},[t._v("Carioca")]),s("div",{staticClass:"mt-10"},[s("button",{staticClass:"border-8 border-blue-500 text-blue-500 text-4xl rounded-full w-32 h-32",on:{click:t.play}},[s("font-awesome-icon",{staticClass:"ml-2",attrs:{icon:"play"}})],1)]),t.savegameExists?s("div",{staticClass:"mt-10 text-gray-600"},[s("save-button",{staticClass:"text-4xl",attrs:{mode:"load"}}),s("div",{staticClass:"font-semibold text-lg"},[t._v("Cargar juego")])],1):t._e()])},i=[],o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",t._g({},"save"==t.mode?{click:t.save}:{click:t.load}),[s("font-awesome-icon",{attrs:{icon:"save"}})],1)},l=[],u={save:function(){var t=s("4360").default,e=s("a18c").default,a=Object.assign({},t.state),n=e.currentRoute.path;localStorage.savegame=JSON.stringify({state:a,path:n})}},c={props:{mode:{type:String,default:"save"}},created:function(){this.save=u.save},methods:{load:function(){var t=JSON.parse(localStorage.savegame);this.$store.replaceState(t.state),this.$router.push(t.path)}}},m=c,d=s("2877"),p=Object(d["a"])(m,o,l,!1,null,null,null),f=p.exports,h={components:{SaveButton:f},data:function(){return{savegameExists:!1}},created:function(){localStorage.savegame&&(this.savegameExists=!0)},methods:{play:function(){this.$router.push("/setup/players")}}},g=h,v=Object(d["a"])(g,r,i,!1,null,null,null),y=v.exports,_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"px-10"},[s("h1",{staticClass:"heading text-center py-5"},[t._v(" Jugadores "),t.players.length?s("span",[t._v("("+t._s(t.players.length)+")")]):t._e()]),t.players.length?t._l(t.players,(function(e){return s("div",{key:e.id,staticClass:"text-3xl font-semibold"},[t._v(" "+t._s(e.id)+". "+t._s(e.name)+" ")])})):s("div",{staticClass:"text-2xl font-thin text-center text-gray-400"},[t._v(" No hay jugadores registrados ")]),s("div",{staticClass:"flex mt-10"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],ref:"player",staticClass:"mr-1 w-5/6 input input-lg",attrs:{type:"text",placeholder:"Nuevo jugador"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),s("button",{staticClass:"w-1/6 ml-1 btn btn-md btn-blue",on:{click:t.add}},[s("font-awesome-icon",{attrs:{icon:"plus"}})],1)]),t.players.length>=2?s("div",{staticClass:"mt-10 text-center"},[s("button",{staticClass:"btn btn-lg btn-green",attrs:{disabled:t.loading},on:{click:t.next}},[t._v(" "+t._s(t.loading?"Guardando":"Continuar")+" ")])]):t._e()],2)},b=[],x=(s("b0c0"),{beforeRouteEnter:function(t,e,a){var n=s("4360").default,r=s("a18c").default;n.state.globalStatus.playersSetupCompleted?r.push("/setup/games"):a()},data:function(){return{name:"",players:[],loading:!1}},methods:{add:function(){var t=this;this.name.length&&(this.players.push({id:this.players.length+1,name:this.name,score:0,gamesWon:0,timeLeft:null}),this.name="",this.$nextTick((function(){t.$refs.player.focus()})))},next:function(){this.loading=!0,this.$store.dispatch("set_players",this.players),this.$store.commit("players_setup_complete"),this.$router.push("/setup/games")}}}),C=x,w=Object(d["a"])(C,_,b,!1,null,null,null),$=w.exports,T=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"px-10 pb-10"},[s("h1",{staticClass:"heading text-center py-5"},[t._v(" Juegos "),t.games.length?s("span",[t._v("("+t._s(t.games.length)+")")]):t._e()]),s("div",{staticClass:"mb-4 flex justify-center"},[s("button",{staticClass:"btn btn-sm btn-green mr-2",on:{click:function(e){return t.games.forEach((function(t){return t.time++}))}}},[s("font-awesome-icon",{attrs:{icon:"clock"}}),t._v(" +1")],1),s("button",{staticClass:"btn btn-sm btn-red ml-2",on:{click:function(e){return t.games.forEach((function(t){return t.time--}))}}},[s("font-awesome-icon",{attrs:{icon:"clock"}}),t._v(" -1")],1)]),t._m(0),t._l(t.games,(function(e){return s("div",{key:e.id,staticClass:"flex justify-between mb-3 font-semibold"},[s("div",{staticClass:"w-5/6 text-2xl"},[t._v(t._s(e.name))]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.time,expression:"game.time"}],staticClass:"w-1/6 text-center input input-lg",attrs:{type:"number",min:"1"},domProps:{value:e.time},on:{input:function(s){s.target.composing||t.$set(e,"time",s.target.value)}}})])})),s("div",{staticClass:"flex my-10"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.name,expression:"name",modifiers:{trim:!0}}],staticClass:"mr-1 w-3/4 input input-lg",attrs:{type:"text",placeholder:"Ej: 2 Trios"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.shortname,expression:"shortname",modifiers:{trim:!0}}],staticClass:"mx-1 w-1/4 input input-lg",attrs:{type:"text",placeholder:"2T"},domProps:{value:t.shortname},on:{input:function(e){e.target.composing||(t.shortname=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),s("button",{staticClass:"w-1/6 ml-1 btn btn-md btn-blue",on:{click:t.add}},[s("font-awesome-icon",{attrs:{icon:"plus"}})],1)]),s("div",{staticClass:"text-center"},[s("button",{staticClass:"btn btn-lg btn-green",attrs:{disabled:t.loading},on:{click:t.next}},[t._v(" "+t._s(t.loading?"Guardando":"Continuar")+" ")])])],2)},I=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex justify-between text-gray-400 mb-5"},[s("div",[t._v("Juego")]),s("div",[t._v("Minutos")])])}],P=(s("fb6a"),{beforeRouteEnter:function(t,e,a){var n=s("4360").default,r=s("a18c").default;n.state.globalStatus.gamesSetupCompleted?r.push("/preparation"):a()},data:function(){return{name:"",shortname:"",games:[{id:1,name:"2 Trios",shortname:"2T",time:5},{id:2,name:"1 Trio 1 Escala",shortname:"1T 1E",time:5},{id:3,name:"2 Escalas",shortname:"2E",time:5},{id:4,name:"3 Trios",shortname:"3T",time:5},{id:5,name:"2 Trios 1 Escala",shortname:"2T 1E",time:5},{id:6,name:"2 Escalas 1 Trio",shortname:"2E 1T",time:5},{id:7,name:"4 Trios",shortname:"4T",time:5},{id:8,name:"3 Escalas",shortname:"3E",time:5},{id:9,name:"Escala sucia",shortname:"ES",time:5},{id:10,name:"Escala real",shortname:"ER",time:5}],loading:!1}},methods:{add:function(){this.name.length&&this.shortname.length&&(this.games.push({id:this.games.length+1,name:this.name.charAt(0).toUpperCase()+this.name.slice(1),shortname:this.shortname.toUpperCase(),time:5}),this.name="",this.shortname="")},next:function(){this.loading=!0,this.$store.dispatch("set_games",this.games),this.$store.commit("games_setup_complete"),this.$store.commit("set_current_game",1),this.$store.commit("set_current_player",1),this.$store.commit("set_rotating_player",1),this.$store.commit("game_init"),this.$router.push("/preparation")}}}),S=P,E=Object(d["a"])(S,T,I,!1,null,null,null),O=E.exports,j=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"px-10 pb-10 text-center"},[s("h1",{staticClass:"heading py-5"},[t._v(" Preparación ")]),s("div",{staticClass:"mb-3"},[s("div",{staticClass:"text-gray-400 text-lg"},[t._v("Próximo juego")]),s("div",{staticClass:"text-4xl font-bold"},[t._v(t._s(t.currentGame.name))])]),s("div",[s("div",{staticClass:"text-gray-400 text-lg"},[t._v("Juega")]),s("div",{staticClass:"text-4xl font-bold text-green-500"},[t._v(t._s(t.currentPlayer.name.toUpperCase()))])]),s("div",{staticClass:"mt-5 mb-5"},[s("button",{staticClass:"focus:outline-none",on:{click:t.togglePause}},[s("countdown-timer",{staticClass:"text-6xl font-bold",attrs:{time:t.initialTime,autoinit:t.autoinit,paused:t.paused},on:{timeout:t.handleTimeout,updatedTime:t.handleUpdatedTime}})],1)]),t.autoinit?s("button",{staticClass:"btn btn-lg btn-green",on:{click:function(e){return t.$router.push("/game/"+t.currentGame.id)}}},[t._v(" Continuar al juego ")]):s("button",{staticClass:"btn btn-lg btn-blue",on:{click:function(e){t.autoinit=!0}}},[t._v(" Iniciar tiempo ")])])},k=[],G=(s("2f62"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:t.statusColor},[t._v(" "+t._s(t._f("formatTime")(t.initialTime))+" ")])}),L=[],B=(s("a9e3"),{name:"CountdownTimer",props:{time:{type:Number,required:!0},autoinit:{type:Boolean,default:!1},paused:{type:Boolean,default:!1},warningTime:{type:Number,default:60},dangerTime:{type:Number,default:30},intervals:{type:Number,default:1}},data:function(){return{initialTime:this.time,timerInterval:null}},created:function(){this.handleAutoinit(this.autoinit)},beforeDestroy:function(){clearInterval(this.timerInterval)},watch:{autoinit:function(t,e){this.handleAutoinit(t)},time:function(t,e){this.initialTime=t},paused:function(){this.paused?clearInterval(this.timerInterval):this.initInterval()}},methods:{handleAutoinit:function(t){t?this.initInterval():clearInterval(this.timerInterval)},initInterval:function(){var t=this;this.timerInterval=setInterval((function(){if(t.initialTime--,t.$emit("updatedTime",t.initialTime),0==t.initialTime)return t.$emit("timeout"),void clearInterval(t.timerInterval)}),1e3*this.intervals)}},computed:{statusColor:function(){return{"text-yellow-500":this.initialTime<=this.warningTime&&this.initialTime>this.dangerTime,"text-red-500":this.initialTime<=this.dangerTime}}}}),N=B,U=Object(d["a"])(N,G,L,!1,null,null,null),W=U.exports,R={beforeRouteEnter:function(t,e,a){var n=s("4360").default,r=s("a18c").default;n.state.globalStatus.gameInit?a():r.push("/setup/players")},created:function(){u.save()},data:function(){return{initialTime:120,autoinit:!1,currentGame:this.$store.getters.gameById(this.$store.state.currentGameId),currentPlayer:this.$store.getters.playerById(this.$store.state.currentPlayerId),paused:!1}},components:{CountdownTimer:W},methods:{handleUpdatedTime:function(t){this.initialTime=t},handleTimeout:function(){this.$router.push("/game/".concat(this.currentGame.id))},togglePause:function(){this.paused=!this.paused}}},J=R,A=Object(d["a"])(J,j,k,!1,null,null,null),M=A.exports,D=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.gameover?t._e():s("div",{staticClass:"flex justify-between p-2 text-gray-500 text-2xl"},[s("button",{staticClass:"focus:outline-none",on:{click:t.togglePause}},[s("font-awesome-icon",{attrs:{icon:t.paused?"play":"pause"}})],1),t.saving?s("div",{staticClass:"flex items-center font-semibold"},[t._v("Guardando...")]):s("save-button",{staticClass:"focus:outline-none",nativeOn:{click:function(e){return t.handleSave(e)}}}),s("button",{staticClass:"focus:outline-none",on:{click:t.finishGame}},[s("font-awesome-icon",{attrs:{icon:"check"}})],1)],1),s("button",{staticClass:"min-w-full focus:outline-none",class:{"opacity-25":t.paused},attrs:{disabled:t.paused},on:{click:t.finishTurn}},[s("div",{staticClass:"min-h-screen pt-1"},[t.gameover?s("div",{staticClass:"mt-8"},[s("h1",{staticClass:"text-blue-500 text-4xl font-semibold"},[t._v(" "+t._s(t.currentGame.name)+" ")]),s("div",{staticClass:"text-green-500 mt-8"},[s("div",{staticClass:"text-6xl"},[s("font-awesome-icon",{attrs:{icon:"crown"}})],1),s("div",{staticClass:"text-6xl font-bold -mt-4"},[t._v(" "+t._s(t.currentPlayer.name.toUpperCase())+" ")])]),s("div",{staticClass:"mt-10 text-4xl font-thin px-10 text-gray-500"},[t._v("Toque para continuar")])]):s("div",[s("h1",{staticClass:"heading pt-5"},[t._v(" "+t._s(t.currentGame.name)+" ")]),s("div",{staticClass:"text-6xl font-bold -mb-4",class:t.textColor(t.currentPlayer.timeLeft)},[t._v(t._s(t.currentPlayer.name.toUpperCase()))]),t.currentPlayer.timeLeft>0?s("countdown-timer",{staticClass:"font-bold text-7xl",attrs:{time:t.currentPlayer.timeLeft,autoinit:"",paused:t.paused,warningTime:t.warningTime,dangerTime:t.dangerTime},on:{updatedTime:t.handleUpdatedTime,timeout:t.handleTimeout}}):s("div",{staticClass:"mt-2 font-semibold text-red-500 text-6xl"},[t._v(" Perdiste ")]),s("div",{staticClass:"mt-4"},t._l(t.playersWithoutCurrent,(function(e){return s("div",{key:e.id,staticClass:"text-xl font-semibold mb-1",class:t.textColor(e.timeLeft)},[t._v(" "+t._s(e.name)+": "+t._s(t._f("formatTime")(e.timeLeft))+" "),260==e.timeLeft?s("span",{staticClass:"ml-1"},[s("font-awesome-icon",{attrs:{icon:"cannabis"}})],1):t._e()])})),0)],1)])])])},q=[],V=(s("4de4"),{beforeRouteEnter:function(t,e,a){var n=s("4360").default,r=s("a18c").default;n.state.globalStatus.gameInit?a():r.push("/setup/players")},components:{CountdownTimer:W,SaveButton:f},data:function(){return{currentGame:this.$store.getters.gameById(this.$store.state.currentGameId),currentPlayer:this.$store.getters.playerById(this.$store.state.currentPlayerId),warningTime:60,dangerTime:30,gameover:!1,paused:!1,saving:!1}},created:function(){window.addEventListener("beforeunload",this.leaving),this.$store.dispatch("set_timers",this.currentGame.time),u.save(),this.checkWinner(0)},beforeDestroy:function(){window.removeEventListener("beforeunload",this.leaving)},methods:{handleUpdatedTime:function(t){this.$set(this.currentPlayer,"timeLeft",t)},handleTimeout:function(){u.save(),this.savePlayerCurrentTime(),this.checkWinner(1500)},handleSave:function(){var t=this;this.saving=!0,setTimeout((function(){t.saving=!1}),1e3)},togglePause:function(){this.paused=!this.paused},finishTurn:function(){1!=this.$store.getters.playersLeftCount?(this.savePlayerCurrentTime(),this.currentPlayer=this.$store.getters.nextPlayerAfter(this.currentPlayer.id),this.$store.commit("set_current_player",this.currentPlayer.id),u.save()):this.finishGame()},leaving:function(){this.savePlayerCurrentTime()},savePlayerCurrentTime:function(){this.$store.commit("set_timer_for_player",{playerId:this.currentPlayer.id,time:this.currentPlayer.timeLeft})},checkWinner:function(t){var e=this;1==this.$store.getters.playersLeftCount&&setTimeout((function(){e.gameover=!0,e.currentPlayer=e.$store.getters.winner,e.$store.commit("set_current_player",e.currentPlayer.id)}),t)},finishGame:function(){this.$router.push("/game/".concat(this.currentGame.id,"/results"))},textColor:function(t){return{"text-yellow-500":t<=this.warningTime&&t>this.dangerTime,"text-red-500":t<=this.dangerTime,"text-green-500":260==t}}},computed:{playersWithoutCurrent:function(){var t=this;return this.$store.state.players.filter((function(e){return e.id!=t.currentPlayer.id}))}}}),z=V,F=Object(d["a"])(z,D,q,!1,null,null,null),H=F.exports,K=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"px-10 pb-10"},[s("h1",{staticClass:"heading text-center pt-5"},[t._v(" Resultados ")]),s("div",{staticClass:"text-center text-lg text-gray-400 font-semibold mb-10"},[t._v(" Juego "+t._s(t.currentGame.id)+" · "+t._s(t.currentGame.name)+" ")]),s("div",{staticClass:"px-10"},t._l(t.$store.state.players,(function(e){return s("div",{key:e.id,staticClass:"flex justify-between mb-3 font-semibold"},[s("div",{staticClass:"w-4/6 text-2xl",class:{"text-green-500":t.scores[e.id]<1}},[t._v(" "+t._s(e.name)+" ")]),s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.scores[e.id],expression:"scores[player.id]",modifiers:{number:!0}}],staticClass:"w-2/6 text-center input input-lg",attrs:{type:"number",min:"0"},domProps:{value:t.scores[e.id]},on:{input:function(s){s.target.composing||t.$set(t.scores,e.id,t._n(s.target.value))},blur:function(e){return t.$forceUpdate()}}})])})),0),s("div",{staticClass:"flex flex-col mt-10 px-10"},[s("button",{staticClass:"btn btn-lg btn-green",attrs:{disabled:t.loading},on:{click:t.continueGame}},[t._v(" "+t._s(t.loading?"Guardando":"Continuar")+" ")]),s("button",{staticClass:"text-blue-500 text-xl font-semibold text-center mt-5",on:{"~click":function(e){return t.$router.go(-1)}}},[t._v(" Volver atrás ")])])])},Q=[],X=(s("4fad"),{data:function(){return{currentGame:this.$store.getters.gameById(this.$store.state.currentGameId),scores:{},loading:!1}},methods:{continueGame:function(){this.saveResults()&&(this.setNextPlayer(),this.nextGameOrResults())},saveResults:function(){if(this.loading=!0,Object.entries(this.scores).length<this.$store.state.players.length)return this.loading=!1,!1;var t={gameId:this.$store.state.currentGameId,scores:this.scores};return this.$store.dispatch("save_result",t),this.$store.dispatch("clear_timers"),!0},setNextPlayer:function(){var t=this.$store.getters.playerById(this.$store.state.rotatingPlayerId+1);t?(this.$store.commit("set_rotating_player",t.id),this.$store.commit("set_current_player",t.id)):(this.$store.commit("set_rotating_player",1),this.$store.commit("set_current_player",1))},nextGameOrResults:function(){var t=this.$store.getters.gameById(this.$store.state.currentGameId+1);t?(this.$store.commit("set_current_game",t.id),this.$router.push("/preparation")):(this.$router.push("/results"),this.$store.commit("game_over"))}}}),Y=X,Z=Object(d["a"])(Y,K,Q,!1,null,null,null),tt=Z.exports,et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"px-8 pb-10 text-center"},[s("h1",{staticClass:"heading py-5"},[t._v(" Resultados ")]),s("div",{staticClass:"bg-gray-900 shadow-lg rounded-lg p-4 border border-yellow-500 mt-2"},[s("div",{staticClass:"text-5xl text-yellow-500"},[s("font-awesome-icon",{attrs:{icon:"trophy"}}),s("div",{staticClass:"font-semibold"},[t._v(" "+t._s(t.winner.name.toUpperCase())+" ")])],1),s("div",{staticClass:"text-gray-500 mt-2 font-semibold"},[t._v(" "+t._s(t.winner.score)+" puntos · "+t._s(t.winner.gamesWon)+"/"+t._s(t.$store.state.games.length)+" juegos ")])]),t._l(t.playersWithoutWinner,(function(e,a){return s("div",{key:e.id,staticClass:"bg-gray-900 shadow-lg rounded p-4 mt-5 border",class:a+2==2?"mx-4 border-gray-300":"mx-8 border-yellow-800"},[s("div",{staticClass:"font-semibold"},[s("div",{staticClass:"text-xl text-gray-500 mb-2"},[t._v(t._s(a+2)+"° Lugar")]),s("div",{staticClass:"text-3xl"},[t._v(t._s(e.name.toUpperCase()))])]),s("div",{staticClass:"text-gray-500 mt-2 text-sm font-semibold"},[t._v(" "+t._s(e.score)+" puntos · "+t._s(e.gamesWon)+"/"+t._s(t.$store.state.games.length)+" juegos ")])])})),s("div",{staticClass:"text-2xl mt-10 font-semibold text-blue-500"},[t._v("Detalles")]),s("div",{staticClass:"flex flex-wrap -mx-2 mt-5"},t._l(t.$store.state.results,(function(e,a){return s("div",{key:a,staticClass:"w-1/2 px-2 mb-4"},[s("div",{staticClass:"bg-gray-900 p-2 rounded-lg shadow h-full"},[s("div",{staticClass:"text-sm text-gray-600"},[t._v("Juego "+t._s(e.game.id))]),s("div",{staticClass:"font-semibold text-lg mb-1"},[t._v(t._s(e.game.name))]),t._l(e.scores,(function(e,a){return s("div",{key:a},[s("span",{class:t.textColor(e.score)},[t._v(t._s(e.player)+": "+t._s(e.score))])])}))],2)])})),0)],2)},st=[],at={data:function(){return{winner:this.$store.getters.winnerOfTheGame}},methods:{textColor:function(t){return{"text-green-500":t<=0,"text-red-500":t>0}}},beforeDestroy:function(){localStorage.removeItem("savegame"),window.location.href="/"},computed:{playersWithoutWinner:function(){var t=this,e=this.$store.state.players.filter((function(e){return e.id!=t.winner.id}));return e.sort((function(t,e){return t.score-e.score}))}}},nt=at,rt=Object(d["a"])(nt,et,st,!1,null,null,null),it=rt.exports;a["a"].use(n["a"]);var ot=[{path:"/",name:"home",component:y},{path:"/setup/players",name:"setup-players",component:$},{path:"/setup/games",name:"setup-games",component:O},{path:"/preparation",name:"preparation",component:M},{path:"/game/:id",name:"game",component:H},{path:"/game/:id/results",name:"game-result",component:tt},{path:"/results",name:"results",component:it}],lt=new n["a"]({mode:"history",base:"/",routes:ot});lt.beforeEach((function(t,e,a){var n=s("4360").default,r=s("a18c").default;n.state.globalStatus.gameOver&&"/results"!=t.path?r.push("/results"):a()}));e["default"]=lt}});
//# sourceMappingURL=app.8e78985d.js.map